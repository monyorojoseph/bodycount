{% extends "base.html" %}
{% load static %}

<!-- content block -->
{% block content %}
    <section class='container'>
        <!-- add bodycount button -->
        <div class="text-center">
            <!-- <button class="my-3 fs-6 fw-bold text-capitalize py-1 px-3 my-btn">Add new</button> -->
            <button type="button" class="my-3 fs-6 fw-bold text-capitalize py-1 px-3 my-btn" data-bs-toggle="modal" data-bs-target="#staticBackdrop">
                Add new
            </button>
        </div>
        
        <!-- Modal -->
        <div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
            <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-body">
                    <form class="row g-3" method='post' action="{% url 'body:add_person' %}" id="add-body-form" enctype="multipart/form-data">
                      {% csrf_token %}
                        <div class="col-md-6">
                          <label for="full_name" class="form-label">Full Name</label>
                          {% comment %} <input required type="text" class="form-control" name='full_name'> {% endcomment %}
                          {{ form.full_name }}
                        </div>
                        <div class="col-md-6">
                          <label for="phone" class="form-label">Phone</label>
                          {% comment %} <input required type="text" class="form-control" name="phone"> {% endcomment %}
                          {{ form.phone }}
                          
                        </div>
                        <div class="col-12">                            
                          <label for="photo" class="form-label">Upload Photo</label>
                          {% comment %} <input class="form-control form-control-sm"  type="file" name="photo"> {% endcomment %}
                          {{ form.photo }}

                        </div>
                        <div class="col-md-4">
                          <label for="age" class="form-label">Age</label>
                          {% comment %} <input required type="text" class="form-control" name="age"> {% endcomment %}
                          {{ form.age }}

                        </div>
                        <div class="col-md-4">
                          <label for="location" class="form-label">Location/Town</label>
                          {% comment %} <input required type="text" class="form-control" name='location'> {% endcomment %}
                          {{ form.location }}

                        </div>
                        <div class="col-md-4">
                          <label for="rating" class="form-label">Rating</label>
                          {% comment %} <input required type="text" class="form-control" name="rating"> {% endcomment %}
                          {{ form.rating }}

                        </div>
                        <div class="col-12">
                          <button type="submit" class="btn btn-primary">Add</button>
                        </div>
                      </form>
                </div>
                <div class="modal-footer">
                <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cancel</button>
                </div>
            </div>
            </div>
        </div>

        <section id="content" class="mt-3 bodies-container">
          {% for person in persons_list %}
            <div class='p-0 body-card-container d-flex flex-column justify-content-center align-items-center brd'>
                <div class='body-card d-flex flex-row justify-content-between align-items-center'>
                    <img class="body-img" src="{{ person.photo_url }}" alt="{{ person.full_name }}" />
                    <div class='body-card-info'>
                        <p class="m-0"><span class='sm-text'>age: </span>{{ person.age }} </p>
                        <p class="m-0"> <span class='sm-text'>Phone: </span> {{ person.phone }} </p>
                        <p class="m-0"> <span class='sm-text'>Rating: </span> {{ person.rating }} </p>
                    </div>
                </div
                <h4> {{ person.full_name }} </h4>
            </div>
          {% empty %}
            <p class="text-center">You haven't added a peson you banged !! </p>
          {% endfor %}
        </section>
         

    </section>
{% endblock content %}